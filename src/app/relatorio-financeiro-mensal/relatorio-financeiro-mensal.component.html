<!-- Progress bar between date changes -->
<mat-progress-bar class="my-progress-bar" *ngIf="this.progressBarValue < 100" color="accent" mode="determinate" [value]="this.progressBarValue" style="position: absolute; z-index: 1; top: -1px"></mat-progress-bar>

<!-- Title and date selector -->
<div style="margin-top: 40px; margin-left: 50px; margin-right: 50px; display: inline-block; width: calc(100% - 100px); min-width: 785px;">
    <p class="view-title-text" style="float: left; margin-right: 40px; line-height: 56px;">Relatório Financeiro</p>
    <p routerLink="/relatorio-financeiro/diario" class="container-title-text dark-grey" style="float: left; line-height: 56px; margin-right: 20px; cursor: pointer;">Diário</p>
    <p routerLink="/relatorio-financeiro/mensal" class="container-title-text dark-grey underline" style="float: left; line-height: 56px; cursor: pointer;">Mensal</p>
    <div style="float: right;">
        <mat-form-field>
            <mat-label>Escolha uma data</mat-label>
            <input matInput [max]="maxDate" [matDatepicker]="dp" [formControl]="date">
            <mat-datepicker-toggle matIconSuffix [for]="dp">
                <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>
            </mat-datepicker-toggle>
            <mat-datepicker #dp
                            startView="year"
                            (monthSelected)="setMonthAndYear($event, dp);onDateChange($event)"
                            panelClass="example-month-picker">
            </mat-datepicker>
        </mat-form-field>
    </div>
</div>

<!-- No response case -->
<ng-template #noResponse>
    <div class="center" style="text-align: center; margin-top: 10px; margin-left: 50px; margin-right: 50px; display: inline-block; width: calc(100% - 100px); min-width: 785px;">
        <img src="/assets/sad.png" style="height: 100px; margin-bottom: 30px;">
        <p class="light-grey no-space" style="font-size: 40px; margin-bottom: 30px;">Erro 500</p>
        <p class="light-grey no-space" style="font-size: 15px;">Ops! Não existem dados para este mês, por favor selecione outra data.</p>
        <p class="light-grey no-space" style="font-size: 15px;">Se você acredita que isso seja um erro contate o administrador de seu sistema.</p>
    </div>
</ng-template>

<!-- Containers -->
<div *ngIf="this.theresResponse; else noResponse" style="margin-top: 10px; margin-left: 50px; margin-right: 50px; display: inline-block; width: calc(100% - 100px); min-width: 785px;">

    <!-- Custo total -->
    <div class="container" style="width: calc(100%/2 - 50px); height: 153px; float: left;">
        <p class="container-title-text" style="margin-bottom: 37px;">Custo total</p>
        <p class="big-text" style="margin-bottom: 37px;">R$ 300,00</p>
        <p class="coloured-text red" style="margin-bottom: 4px;">+ 5,25%</p>
        <p class="small-text">Desde o mês anterior</p>
    </div>

    <!-- Custo médio -->
    <div class="container" style="width: calc(100%/2 - 50px); height: 153px; float: left; margin-right: 0px;">
        <p class="container-title-text" style="margin-bottom: 37px;">Custo médio por dia</p>
        <p class="big-text" style="margin-bottom: 37px;">R$ 10,00 / dia</p>
        <p class="coloured-text red" style="margin-bottom: 4px;">+ 7,05%</p>
        <p class="small-text">Desde o mês anterior</p>
    </div>

    <!-- Série histórica -->
    <div class="container" style="width: calc(100% - 40px); float: left; margin-right: 0px;">
        <p class="container-title-text" style="margin-bottom: 37px;">Série histórica de custos totais</p>
        <div id="chartSerieHistorica"></div>
    </div>
</div>